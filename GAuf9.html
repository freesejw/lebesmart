 <!DOCTYPE html>
<html>

<head>
  <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jcanvas/21.0.0/jcanvas.js"></script>
  <style type="text/css">
    body {
      background-color: #F3EFF9;
      margin: 30px;
      margin-top: 10px;
    }

    #Canvas {
      position: absolute;
      top: 0px;
      left: 0px;
      border: 1px red solid;
      #thing;
      background-color: #FFEFDB;
    }
  </style>
</head>

<body>
  <canvas id="Canvas" width="640" height="460"></canvas>
  <script>

  var j=0;
  var myVar = setInterval(Flieg, 1000);
 Flieg();
 function Flieg() {

            $('canvas').drawArc({
                layer: true,
                name: 'myBox-' + j,
                fillStyle: '#' + Math.floor(Math.random() * 16777215).toString(16),
                x: Math.floor(Math.random() * 600) + 100,
                y: 400,
                radius: 40,
                click: function (layer) {
                    layer.visible = 'false';
                    animation(layer);
                }
            });
            $('canvas').animateLayer('myBox-' + j, {
                y: -80
            }, {
                    duration: 2000,
                    easing: 'linear',
                    step: function (now, fx, layer) {
                        // do something for each step of the animation
                    },

                });
                console.log('myBox-' + j);
            j++;

        }
        function animation(layer) {
            var iAni = 1, maxAni = 6, xPos = layer.x, yPos = layer.y;
            var  iFly = layer.name.split('-')[1];
            console.log( iFly + " ifly " +layer.name);
            layer.visible = false;
            $('canvas').drawImage({
                layer: true,
                name: 'ani' + iFly,
                source: 'zballon0.png',
                x: xPos, y: yPos
            });
            var timer = setInterval(function () {
                iAni++;
                if (iAni <= maxAni) {
                    $('canvas').setLayer(
                        'ani' + iFly, {
                            source: 'zballon' + iAni + '.png'
                        }
                    ).drawLayers();
                } else
                {
                    $('canvas').setLayer(
                         'ani'+iFly,{

                    //layer.visible:'false'
                    }
                    ).drawLayers();

                    console.log("layer.name   " +layer.name);
                    clearInterval(timer);
                }
            }, 500);
        }


  </script>
</body>

</html