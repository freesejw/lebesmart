 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de" lang="de">
<head>
  <title>Test: EventListener</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta http-equiv="Content-Language" content="de" />
  <style type="text/css">
    .toggleLink {
      color: #009;
    }
  </style>
  <script type="text/javascript">
    function show_hide_content(elem) {
      if (document.all) {  // IE
        var this_div = elem.srcElement;
      } else {
        var this_div = this;
      }

      var arr_all_divs = document.getElementsByTagName('div');
      for (var int_counter = 0; int_counter < arr_all_divs.length; int_counter++) {
        if (arr_all_divs[int_counter] == this_div) {
          next_div = arr_all_divs[int_counter + 1];
        }
      }

      if (next_div.style.display != 'block') {
        this_div.firstChild.data = 'Text ausblenden';
        next_div.style.display   = 'block';
      } else {
        this_div.firstChild.data = 'Text anzeigen';
        next_div.style.display   = 'none';
      }
    }

    function event_init() {
      var arr_all_divs = document.getElementsByTagName('div');
      for (var int_counter = 0; int_counter < arr_all_divs.length; int_counter++) {
        if (arr_all_divs[int_counter].className == 'toggleLink') {
          if (arr_all_divs[int_counter].addEventListener) {
            arr_all_divs[int_counter].addEventListener('click', show_hide_content, false);
          } else if (arr_all_divs[int_counter].attachEvent) {
            arr_all_divs[int_counter].attachEvent('onclick', show_hide_content);
          }
        }
        if (arr_all_divs[int_counter].className == 'toggleContent') {
          arr_all_divs[int_counter].style.display = 'block';
        }
      }
    }
  </script>
</head>


<body onload="event_init();">
  <div class="toggleLink">Text ausblenden</div>
  <div class="toggleContent">Inhalt Nr. 1</div>

  <div class="toggleLink">Text ausblenden</div>
  <div class="toggleContent">Inhalt Nr. 2</div>

  
  <div class="toggleLink">Text ausblenden</div>
  <div class="toggleContent">Inhalt Nr. 3</div>

  <div class="toggleLink">Text ausblenden</div>
  <div class="toggleContent">Inhalt Nr. 4</div>
</body>
</html>