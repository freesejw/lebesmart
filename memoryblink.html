 <html>
<head>
<style type="text/css">

 body {
          background-color: #FFFFFF;
          font-size: 14px

  }


 #wrapper{
          width: 1050px;
          height:600px;
          margin: 0px auto;

}
  h1 {

          font-size: 30px;
          color: #0000ff;

  }

 #gameOptions{
                float:left;
                margin-left:250px;
                margin-top:100px;
                width:150px;
                height:450px;
                border:4px solid #000;
                background-color:#E2EBED;
                padding-left:5px;
                font-size:0.9em;
        }

  #KonMemo{
                float:left;
                margin-left:150px;
                margin-top:100px;

                         }
   table{
     background-color:#E2EBED;
     float:left;
   }

    #frmGame{
     background-color:#E2EBED;
     float:left;
     border: 1px solid red;
   }
</style>
<script language="JavaScript">
/*
 *  Status codes
 */
var c_gameISNotRunning = 0;
var c_gameISRunning    = 1;
var c_gameEndGiveUp    = 2;
var c_gameEndWrongMove = 3;
var c_gameBetweenMove  = 4;

var m_arrSeq      = new Array();   //Speichert die Folge der Felder die blinken sollen
var m_iBestScore  = 0;
var m_iGameStep   = 3; //anzahl der angezeigten Fenster beim 1. Durchauf
var m_iGameMove   = 0;
var m_slideDelay  = 0;
var m_totalItems  = 16;
var m_curIndex    = 0;
var m_curSlide    = 0;
var m_maxCurSlide = 2;
var m_isShowAllSeq= false;
var m_isShowSlide = false;
var m_status      =  c_gameISNotRunning;

var m_img1 =new Image();
var m_img2 =new Image();

m_img1.src="peg.gif";
m_img2.src="pegact.gif";

                  function getRandom(maxValue)
                  {
                      var ranNum= Math.floor(Math.random() * maxValue);
                      return ranNum;
                  }



function startGame()
{
        document.getElementById("cmdGiveUp").disabled = false;
        document.getElementById("cmdStart").disabled  = true;
        m_status    = c_gameISRunning;
        m_iGameStep   = m_iGameStep -1;
        startGameStep();

}

function startGameStep()
{
        ++m_iGameStep;
        for(i=0;i<m_iGameStep;++i){
                m_arrSeq[i] = getRandom(m_totalItems);
        }
        m_iGameMove = 0;
        m_curIndex  = 0;
        showMoveLevel();
        showAll();
}

function showAll()
                  {
                          m_slideDelay = 0;
                          m_curIndex   = 0;
                          m_curSlide   = 0;
                          m_isShowAllSeq = true;
                          m_isShowSlide  = true;
                          showMoveLevel();
                  }

function showMoveLevel()
{
        var i = m_curIndex + 1;

        var s = "Move: <b>"+ i + "</b>, Level: <b>"+m_iGameStep + "</b>";

        if( document.getElementById ){
                document.getElementById("levelID").innerHTML = s;
        }
        else {
                document.all("levelID").innerHTML = s;
        }

}



function startPlay()
{
        document.getElementById("cmdGiveUp").disabled = true;
        document.getElementById("cmdStart").disabled  = false;

        timerStep();
}






function giveUP()
{

        if(m_status != c_gameISRunning){
                document.getElementById("cmdGiveUp").disabled = false;
                document.getElementById("cmdStart").disabled  = true;
                alert("Game is not running");
        }
        else {
                m_status = c_gameEndGiveUp;
               // showAll();
        }
        stopSlide();
}


function move(index)
{
        if(m_status != c_gameISRunning)return;
        if(m_arrSeq[m_iGameMove] == index){
                m_curIndex    = m_iGameMove;
                m_isShowSlide = true;
                m_status = c_gameBetweenMove;
        }
        else {
                alert("You fail. This is correct sequence");
                m_status = c_gameEndWrongMove;
                showAll();
        }
}

function nextMove()
{
        if(++m_iGameMove >= m_iGameStep){
                alert("You pass the move");
                startGameStep();
        }
        else {
                m_curIndex  = m_iGameMove;
                showMoveLevel();
        }
}


function showClock()
{
        var digital = new Date();
        var hours   = digital.getHours();
        var minutes = digital.getMinutes();
        var seconds = digital.getSeconds();
        var amOrPm = "AM";
        if (hours > 11) amOrPm = "PM";
        if (hours > 12) hours = hours - 12;
        if (hours == 0) hours = 12;
        if (minutes <= 9) minutes = "0" + minutes;
        if (seconds <= 9) seconds = "0" + seconds;
        dispTime = hours + ":" + minutes + ":" + seconds + " " + amOrPm;

        /*  if(document.getElementById){                                     // Ausblenden einer UHR Anzeige
                document.getElementById("timeID").innerHTML  = dispTime;
            }
        else {
                document.all("timeID").innerHTML  = dispTime;
             }
        */
}

function showTheBestScore()
{
        var s = "The best score: <b>"+m_iBestScore+"</b>";
          if(document.getElementById){
                document.getElementById("bestscoreID").innerHTML  = s;
            }
        else {
                document.all("bestscoreID").innerHTML  = s;
             }

}

function stopSlide()
{
        m_isShowSlide  = false;
        for(i=0;i< m_totalItems;++i){
                var curTabName = "t" +i;
                if(document.getElementById){
                        document.getElementById(curTabName).bgColor="#E2EBED";
                }
        }
        if(m_status ==  c_gameEndWrongMove || m_status== c_gameEndGiveUp){
                document.getElementById("cmdGiveUp").disabled = true;
                document.getElementById("cmdStart").disabled  = false;
                if(m_status ==  c_gameEndWrongMove){
                        if(m_iBestScore < m_iGameStep){
                                alert("This was your the best game");
                                m_iBestScore = m_iGameStep;
                                showTheBestScore();
                        }
                }
                m_status = c_gameISNotRunning;
        }
}

function showSlide()
{
        var i = m_arrSeq[m_curIndex];
        if(i < 0 || i >=  m_totalItems)alert("Error");
        var curImageName = "a" + i;
        var curTabName   = "t" + i;

                if(document.getElementById){
                if(m_curSlide % 2 == 0)

                document.getElementById(curTabName).bgColor="#E2EBED";
                else                   document.getElementById(curTabName).bgColor="#E2EBED";
        }
        if(document.getElementById){
                if(m_curSlide % 2 == 0)
                document.getElementById(curImageName).src = m_img1.src;
                else                   document.getElementById(curImageName).src = m_img2.src;
        }
        else {
                if(m_curSlide % 2 == 0)
                document.all(curImageName).src = m_img1.src;
                else                   document.all(curImageName).src = m_img2.src;
        }
        if(++m_curSlide  >= 6){
             if(document.getElementById){

                document.getElementById(curTabName).bgColor="#E2EBED";
        }
                m_curSlide = 0;
                return 1;
        }
        return 0;
}


function timerStep()
{
        if(m_slideDelay > 0){

                --m_slideDelay;
        }
        else if(m_isShowSlide){
                if(showSlide() != 0){
                        if(m_isShowAllSeq){
                                if(++m_curIndex >= m_iGameStep){
                                        m_isShowAllSeq = false;
                                        m_curIndex = 0;
                                        stopSlide();
                                }
                                else {
                                        m_slideDelay = 10;  // Verzögerung beim Feldwechsel
                                }
                                showMoveLevel();
                        }
                        else {
                                stopSlide();
                                if(m_status == c_gameBetweenMove){
                                        m_status = c_gameISRunning;
                                        nextMove();

                                }
                        }
                }
        }
        showClock();
        setTimeout("timerStep()", 100);
}

function about()
{
       m_iGameStep   = 3;
        startGame();
}


</script>

</head>
<body onLoad="startPlay()" bgcolor="##E2EBED">

<div id="wrapper">
<div align="center">
<h1>&Uuml;bung : Ged&auml;chnis + Konzentration</h1>
Das Ziel vom Spiel ist es die Ged&auml;chnisleistung und die Konzentration zu st&auml;rken.
<p></p>

<div id="gameOptions">
        <h1>Hinweise </h1>

        <ul>
                <li><a href="#" onclick="giveUp()";>Wiederholung des Levels</a></li>
                <li><a href="#" onclick="about()";>Wieder von vorn beginnen.</a></li>
                <li><a href="#" onclick="showHint();return false">Show hint</a></li>
        </ul>
        <ul>
                <li><a href="#" onclick="switchLevel(1,this);return false" style="font-weight:bold">Beginner</a></li>
                <li><a href="#" onclick="switchLevel(2,this);return false">Moderate</a></li>
                <li><a href="#" onclick="switchLevel(3,this);return false">Hard</a></li>
                <li><a href="#" onclick="switchLevel(4,this);return false">Expert</a></li>
        </ul>
        <ul class="gameRules">
                <li><b>Goal of the game</b></li>
                <li>1. No duplicates of the numbers 1-9 horizontally.</li>
                <li>2. No duplicates of the numbers 1-9 vertically</li>
                <li>3. No duplicates of the numbers 1-9 in the 3x3 cell groups</li>
        </ul>
        <ul>
                <li><i>Click on a cell and use your keyboard to type in the numbers</i></li>
        </ul>
</div>





<div id="KonMemo">
<div id="levelID"></div>
<table width="280" border="1" >
<tr height=70">
    <td align="center" OnClick="move(0)" id="t0"><img src="pegact.gif" ID="a0" OnClick="move(0)"></td>
    <td align="center" OnClick="move(1)" id="t1"><img src="pegact.gif" ID="a1" OnClick="move(1)"></td>
    <td align="center" OnClick="move(2)" id="t2"><img src="pegact.gif" ID="a2" OnClick="move(2)"></td>
    <td align="center" OnClick="move(3)" id="t3"><img src="pegact.gif" ID="a3" OnClick="move(3)"></td>
</tr>
<tr height="70">
    <td align="center" OnClick="move(4)" id="t4"><img src="pegact.gif" ID="a4" OnClick="move(4)"></td>
    <td align="center" OnClick="move(5)" id="t5"><img src="pegact.gif" ID="a5" OnClick="move(5)"></td>
    <td align="center" OnClick="move(6)" id="t6"><img src="pegact.gif" ID="a6" OnClick="move(6)"></td>
    <td align="center" OnClick="move(7)" id="t7"><img src="pegact.gif" ID="a7" OnClick="move(7)"></td>
    </tr>

<tr height="70">
    <td align="center" OnClick="move(8)" id="t8"><img src="pegact.gif" ID="a8" OnClick="move(8)"></td>
    <td align="center" OnClick="move(9)" id="t9"><img src="pegact.gif" ID="a9" OnClick="move(9)"></td>
    <td align="center" OnClick="move(10)" id="t10"><img src="pegact.gif" ID="a10" OnClick="move(10)"></td>
    <td align="center" OnClick="move(11)" id="t11"><img src="pegact.gif" ID="a11" OnClick="move(11)"></td>
</tr>
<tr height="70">
    <td align="center" OnClick="move(12)" id="t12"><img src="pegact.gif" ID="a12" OnClick="move(12)"></td>
    <td align="center" OnClick="move(13)" id="t13"><img src="pegact.gif" ID="a13" OnClick="move(13)"></td>
    <td align="center" OnClick="move(14)" id="t14"><img src="pegact.gif" ID="a14" OnClick="move(14)"></td>
    <td align="center" OnClick="move(15)" id="t15"><img src="pegact.gif" ID="a15" OnClick="move(15)"></td>
</tr>
</table>

<div id="bestscoreID"></div>
<div id="timeID"></div>

<form name="frmGame">
<input type="button" name="cmdStart"  id="cmdStart"  value="Start"  onClick="startGame()">
<input type="button" name="cmdGiveUp" id="cmdGiveUp" value="Wiederholung" onClick="giveUP()">
<input type="button" name="cmdAbout"  id="cmdAbout"  value="Wieder von vorn beginnen."  onClick="about()">
</form>
</div>

</div>
</div>
</body>
</html>